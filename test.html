<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />


		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>Web Audio Evaluation Tool</title>
		<meta name="description" content="" />
		<meta name="author" content="" />
		
		<!-- Load up the default core JS and CSS files-->
		<link rel='stylesheet' type='text/css' href='css/core.css'>
		<!-- Use jQuery hosted from Google CDN -->
		<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>-->
		<script type="text/javascript" src="js/jquery-2.1.4.js"></script>
        <script type="text/javascript" src='js/specification.js'></script>
		<script type="text/javascript" src='js/core.js'></script>
		<script type="text/javascript" src='js/loudness.js'></script>
		<script type="text/javascript" src='js/xmllint.js'></script>
        <script type="text/javascript" src='js/WAVE.js'></script>
		<script type="text/javascript">
			// SEARCH QUERY: By using the GET Request option ?url=loca/path/to/project.xml in the URL bar, you can load a project quickly
			if (window.location.search.length != 0)
			{
				var search = window.location.search.split('?')[1];
				// Now split the requests into pairs
				var searchQueries = search.split('&');
				for (var i in searchQueries)
				{
					// Split each request into
					searchQueries[i] = searchQueries[i].split('=');
					var key = searchQueries[i][0];
					var string = decodeURIComponent(searchQueries[i][1]);
					if (key === "url")
					{
						url = string;
					}
					if (key === "returnUrl"){
						getReturnURL = string;
					}
				}
				loadProjectSpec(url);
				window.onbeforeunload = function() {
					return "Please only leave this page once you have completed the tests. Are you sure you have completed all testing?";
				};
			}
		</script>
	</head>

	<body>
		<!-- Load up the default page interface allowing for project setting loads, even if hard-coded-->
		<!-- Actual test interface design should be contained in the .js for ease of dynamic content-->
		<div id='topLevelBody'>
            <span>Web Audio Evaluation Toolbox</span>
		</div>
        <div id="popupHolder" class="popupHolder" style="visibility: hidden">
            <div id="popupContent">
                <div id="popupTitleHolder">
                    <span id="popupTitle"></span>
                </div>
                <div id="popupResponse"></div>
            </div>
            <button id="popup-proceed" class="popupButton">Next</button>
            <button id="popup-previous" class="popupButton">Back</button>
        </div>
        <div class="testHalt" style="visibility: hidden"></div>
	</body>
</html>
